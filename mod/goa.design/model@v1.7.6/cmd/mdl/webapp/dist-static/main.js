(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e,n){var r;try{r={cloneDeep:n(230),constant:n(54),defaults:n(231),each:n(80),filter:n(83),find:n(232),flatten:n(110),forEach:n(81),forIn:n(237),has:n(94),isUndefined:n(95),last:n(238),map:n(96),mapValues:n(239),max:n(240),merge:n(242),min:n(248),minBy:n(249),now:n(250),pick:n(251),range:n(256),reduce:n(98),sortBy:n(259),uniqueId:n(264),values:n(103),zipObject:n(265)}}catch(t){}r||(r=window._),t.exports=r},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";var r=n(0),o=n(5).Graph;function i(t,e,n,o){var i;do{i=r.uniqueId(o)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function a(t){return r.max(r.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n})))}t.exports={addDummyNode:i,simplify:function(t){var e=(new o).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},o=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),e},asNonCompoundGraph:function(t){var e=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,o=t.x,i=t.y,a=e.x-o,u=e.y-i,c=t.width/2,s=t.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(u)*c>Math.abs(a)*s?(u<0&&(s=-s),n=s*a/u,r=s):(a<0&&(c=-c),n=c,r=c*u/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(t){var e=r.map(r.range(a(t)+1),(function(){return[]}));return r.forEach(t.nodes(),(function(n){var o=t.node(n),i=o.rank;r.isUndefined(i)||(e[i][o.order]=n)})),e},normalizeRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank})));r.forEach(t.nodes(),(function(n){var o=t.node(n);r.has(o,"rank")&&(o.rank-=e)}))},removeEmptyRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];r.forEach(t.nodes(),(function(r){var o=t.node(r).rank-e;n[o]||(n[o]=[]),n[o].push(r)}));var o=0,i=t.graph().nodeRankFactor;r.forEach(n,(function(e,n){r.isUndefined(e)&&n%i!=0?--o:o&&r.forEach(e,(function(e){t.node(e).rank+=o}))}))},addBorderNode:function(t,e,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return i(t,"border",o,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){var n=r.now();try{return e()}finally{console.log(t+" time: "+(r.now()-n)+"ms")}},notime:function(t,e){return e()}}},function(t,e,n){var r;try{r={clone:n(117),constant:n(54),each:n(80),filter:n(83),has:n(94),isArray:n(1),isEmpty:n(194),isFunction:n(20),isUndefined:n(95),keys:n(10),map:n(96),reduce:n(98),size:n(197),transform:n(203),union:n(204),values:n(103)}}catch(t){}r||(r=window._),t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r;try{r=n(115)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,e,n){var r=n(63),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(20),o=n(48);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){var r=n(174),o=n(184),i=n(14),a=n(1),u=n(191);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):u(t)}},function(t,e,n){var r=n(66),o=n(50),i=n(8);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e,n){var r=n(128),o=n(134);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(16),o=n(130),i=n(131),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(66),o=n(154),i=n(8);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(6).Symbol;t.exports=r},function(t,e,n){(function(t){var r=n(6),o=n(150),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c}).call(this,n(47)(t))},function(t,e,n){var r=n(159),o=n(44),i=n(160),a=n(75),u=n(161),c=n(12),s=n(64),f=s(r),d=s(o),h=s(i),l=s(a),p=s(u),v=c;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?s(n):"";if(r)switch(r){case f:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case l:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(12),o=n(7);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(12),o=n(4);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(30),o=n(31);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var u=-1,c=e.length;++u<c;){var s=e[u],f=i?i(n[s],t[s],s,n,t):void 0;void 0===f&&(f=t[s]),a?o(n,s,f):r(n,s,f)}return n}},function(t,e,n){var r=n(149),o=n(7),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},function(t,e,n){var r=n(151),o=n(33),i=n(49),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(19);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var r=n(26),o=n(123),i=n(124),a=n(125),u=n(126),c=n(127);function s(t){var e=this.__data__=new r(t);this.size=e.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=u,s.prototype.set=c,t.exports=s},function(t,e,n){var r=n(118),o=n(119),i=n(120),a=n(121),u=n(122);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(15);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(11)(Object,"create");t.exports=r},function(t,e,n){var r=n(143);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(31),o=n(15),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(65);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(67)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(55),o=n(172)(r);t.exports=o},function(t,e,n){var r=n(38),o=n(24);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(1),o=n(58),i=n(186),a=n(90);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(14),o=n(99),i=n(100);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e,n){var r=n(15),o=n(8),i=n(32),a=n(4);t.exports=function(t,e,n){if(!a(n))return!1;var u=typeof e;return!!("number"==u?o(n)&&i(e,n.length):"string"==u&&e in n)&&r(n[e],t)}},function(t,e,n){"use strict";var r=n(0);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),(function n(o){var i=t.node(o);if(r.has(e,o))return i.rank;e[o]=!0;var a=r.min(r.map(t.outEdges(o),(function(e){return n(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),i.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,n){"use strict";var r=n(3);t.exports=o;function o(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(t,e){t[e]?t[e]++:t[e]=1}function a(t,e){--t[e]||delete t[e]}function u(t,e,n,o){var i=""+e,a=""+n;if(!t&&i>a){var u=i;i=a,a=u}return i+""+a+""+(r.isUndefined(o)?"\0":o)}function c(t,e,n,r){var o=""+e,i=""+n;if(!t&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};return r&&(u.name=r),u}function s(t,e){return u(t,e.v,e.w,e.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(t){return this._label=t,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._in[e])}))},o.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._out[e])}))},o.prototype.setNodes=function(t,e){var n=arguments,o=this;return r.each(t,(function(t){n.length>1?o.setNode(t,e):o.setNode(t)})),this},o.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},o.prototype.node=function(t){return this._nodes[t]},o.prototype.hasNode=function(t){return r.has(this._nodes,t)},o.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},o.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e="\0";else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},o.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},o.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\0"!==e)return e}},o.prototype.children=function(t){if(r.isUndefined(t)&&(t="\0"),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if("\0"===t)return this.nodes();if(this.hasNode(t))return[]}},o.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},o.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},o.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},o.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},o.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),r.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var o={};return this._isCompound&&r.each(e.nodes(),(function(t){e.setParent(t,function t(r){var i=n.parent(r);return void 0===i||e.hasNode(i)?(o[r]=i,i):i in o?o[i]:t(i)}(t))})),e},o.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(t,e){var n=this,o=arguments;return r.reduce(t,(function(t,r){return o.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r})),this},o.prototype.setEdge=function(){var t,e,n,o,a=!1,s=arguments[0];"object"==typeof s&&null!==s&&"v"in s?(t=s.v,e=s.w,n=s.name,2===arguments.length&&(o=arguments[1],a=!0)):(t=s,e=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],a=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var f=u(this._isDirected,t,e,n);if(r.has(this._edgeLabels,f))return a&&(this._edgeLabels[f]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[f]=a?o:this._defaultEdgeLabelFn(t,e,n);var d=c(this._isDirected,t,e,n);return t=d.v,e=d.w,Object.freeze(d),this._edgeObjs[f]=d,i(this._preds[e],t),i(this._sucs[t],e),this._in[e][f]=d,this._out[t][f]=d,this._edgeCount++,this},o.prototype.edge=function(t,e,n){var r=1===arguments.length?s(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(t,e,n){var o=1===arguments.length?s(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return r.has(this._edgeLabels,o)},o.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?s(this._isDirected,arguments[0]):u(this._isDirected,t,e,n),o=this._edgeObjs[r];return o&&(t=o.v,e=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[e],t),a(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},o.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var o=r.values(n);return e?r.filter(o,(function(t){return t.v===e})):o}},o.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var o=r.values(n);return e?r.filter(o,(function(t){return t.w===e})):o}},o.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){var r=n(11)(n(6),"Map");t.exports=r},function(t,e,n){var r=n(135),o=n(142),i=n(144),a=n(145),u=n(146);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){(function(t){var r=n(63),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u}).call(this,n(47)(t))},function(t,e,n){var r=n(34),o=n(152),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(70),o=n(71),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(76);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(56),o=n(10);t.exports=function(t,e){return t&&r(t,e,o)}},function(t,e,n){var r=n(171)();t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(1),o=n(19),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(52),o=n(205);t.exports=function t(e,n,i,a,u){var c=-1,s=e.length;for(i||(i=o),u||(u=[]);++c<s;){var f=e[c];n>0&&i(f)?n>1?t(f,n-1,i,a,u):r(u,f):a||(u[u.length]=f)}return u}},function(t,e,n){var r=n(19);t.exports=function(t,e,n){for(var o=-1,i=t.length;++o<i;){var a=t[o],u=e(a);if(null!=u&&(void 0===c?u==u&&!r(u):n(u,c)))var c=u,s=a}return s}},function(t,e,n){t.exports={graphlib:n(5),layout:n(229),debug:n(288),util:{time:n(2).time,notime:n(2).notime},version:n(289)}},function(t,e,n){var r=n(25),o=n(46),i=n(30),a=n(147),u=n(153),c=n(68),s=n(69),f=n(156),d=n(157),h=n(73),l=n(158),p=n(18),v=n(162),g=n(163),y=n(78),x=n(1),m=n(17),b=n(167),w=n(4),E=n(169),_=n(10),j=n(13),k={};k["[object Arguments]"]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k["[object Object]"]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k["[object Function]"]=k["[object WeakMap]"]=!1,t.exports=function t(e,n,O,A,S,N){var M,I=1&n,C=2&n,L=4&n;if(O&&(M=S?O(e,A,S,N):O(e)),void 0!==M)return M;if(!w(e))return e;var P=x(e);if(P){if(M=v(e),!I)return s(e,M)}else{var T=p(e),V="[object Function]"==T||"[object GeneratorFunction]"==T;if(m(e))return c(e,I);if("[object Object]"==T||"[object Arguments]"==T||V&&!S){if(M=C||V?{}:y(e),!I)return C?d(e,u(M,e)):f(e,a(M,e))}else{if(!k[T])return S?e:{};M=g(e,T,I)}}N||(N=new r);var z=N.get(e);if(z)return z;N.set(e,M),E(e)?e.forEach((function(r){M.add(t(r,n,O,r,e,N))})):b(e)&&e.forEach((function(r,o){M.set(o,t(r,n,O,o,e,N))}));var D=P?void 0:(L?C?l:h:C?j:_)(e);return o(D||e,(function(r,o){D&&(r=e[o=r]),i(M,o,t(r,n,O,o,e,N))})),M}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(129))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(11),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(148),o=n(22),i=n(1),a=n(17),u=n(32),c=n(23),s=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),f=!n&&o(t),d=!n&&!f&&a(t),h=!n&&!f&&!d&&c(t),l=n||f||d||h,p=l?r(t.length,String):[],v=p.length;for(var g in t)!e&&!s.call(t,g)||l&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,v))||p.push(g);return p}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){(function(t){var r=n(6),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(47)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(52),o=n(35),i=n(51),a=n(71),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=u},function(t,e,n){var r=n(74),o=n(51),i=n(10);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(52),o=n(1);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(11)(n(6),"Set");t.exports=r},function(t,e,n){var r=n(6).Uint8Array;t.exports=r},function(t,e,n){var r=n(53);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(79),o=n(35),i=n(34);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(4),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){t.exports=n(81)},function(t,e,n){var r=n(46),o=n(36),i=n(82),a=n(1);t.exports=function(t,e){return(a(t)?r:o)(t,i(e))}},function(t,e,n){var r=n(14);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(70),o=n(173),i=n(9),a=n(1);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(176),o=n(7);t.exports=function t(e,n,i,a,u){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,u))}},function(t,e,n){var r=n(86),o=n(179),i=n(87);t.exports=function(t,e,n,a,u,c){var s=1&n,f=t.length,d=e.length;if(f!=d&&!(s&&d>f))return!1;var h=c.get(t),l=c.get(e);if(h&&l)return h==e&&l==t;var p=-1,v=!0,g=2&n?new r:void 0;for(c.set(t,e),c.set(e,t);++p<f;){var y=t[p],x=e[p];if(a)var m=s?a(x,y,p,e,t,c):a(y,x,p,t,e,c);if(void 0!==m){if(m)continue;v=!1;break}if(g){if(!o(e,(function(t,e){if(!i(g,e)&&(y===t||u(y,t,n,a,c)))return g.push(e)}))){v=!1;break}}else if(y!==x&&!u(y,x,n,a,c)){v=!1;break}}return c.delete(t),c.delete(e),v}},function(t,e,n){var r=n(45),o=n(177),i=n(178);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(4);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(189);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(190),o=n(92);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e,n){var r=n(38),o=n(22),i=n(1),a=n(32),u=n(48),c=n(24);t.exports=function(t,e,n){for(var s=-1,f=(e=r(e,t)).length,d=!1;++s<f;){var h=c(e[s]);if(!(d=null!=t&&n(t,h)))break;t=t[h]}return d||++s!=f?d:!!(f=null==t?0:t.length)&&u(f)&&a(h,f)&&(i(t)||o(t))}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(193),o=n(92);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(39),o=n(9),i=n(97),a=n(1);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(36),o=n(8);t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}},function(t,e,n){var r=n(195),o=n(36),i=n(9),a=n(196),u=n(1);t.exports=function(t,e,n){var c=u(t)?r:a,s=arguments.length<3;return c(t,i(e,4),n,s,o)}},function(t,e,n){var r=n(206),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),c=Array(u);++a<u;)c[a]=i[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=i[a];return s[e]=n(c),r(t,this,s)}}},function(t,e,n){var r=n(207),o=n(208)(r);t.exports=o},function(t,e){t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e,n){var r=n(8),o=n(7);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(217),o=n(10);t.exports=function(t){return null==t?[]:r(t,o(t))}},function(t,e,n){var r=n(3),o=n(105);t.exports=function(t,e,n,r){return function(t,e,n,r){var i,a,u={},c=new o,s=function(t){var e=t.v!==i?t.v:t.w,r=u[e],o=n(t),s=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);s<r.distance&&(r.distance=s,r.predecessor=i,c.decrease(e,s))};t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;u[t]={distance:n},c.add(t,n)}));for(;c.size()>0&&(i=c.removeMin(),(a=u[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(s);return u}(t,String(e),n||i,r||function(e){return t.outEdges(e)})};var i=r.constant(1)},function(t,e,n){var r=n(3);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return r.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var o=this._arr,i=o.length;return n[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},o.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,o=t;n<e.length&&(o=e[n].priority<e[o].priority?n:o,r<e.length&&(o=e[r].priority<e[o].priority?r:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,o=n[t],i=n[e];n[t]=i,n[e]=o,r[i.key]=t,r[o.key]=e}},function(t,e,n){var r=n(3);t.exports=function(t){var e=0,n=[],o={},i=[];return t.nodes().forEach((function(a){r.has(o,a)||function a(u){var c=o[u]={onStack:!0,lowlink:e,index:e++};if(n.push(u),t.successors(u).forEach((function(t){r.has(o,t)?o[t].onStack&&(c.lowlink=Math.min(c.lowlink,o[t].index)):(a(t),c.lowlink=Math.min(c.lowlink,o[t].lowlink))})),c.lowlink===c.index){var s,f=[];do{s=n.pop(),o[s].onStack=!1,f.push(s)}while(u!==s);i.push(f)}}(a)})),i}},function(t,e,n){var r=n(3);function o(t){var e={},n={},o=[];if(r.each(t.sinks(),(function a(u){if(r.has(n,u))throw new i;r.has(e,u)||(n[u]=!0,e[u]=!0,r.each(t.predecessors(u),a),delete n[u],o.push(u))})),r.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},function(t,e,n){var r=n(3);t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return r.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,o,i,a,u){r.has(i,n)||(i[n]=!0,o||u.push(n),r.each(a(n),(function(n){t(e,n,o,i,a,u)})),o&&u.push(n))}(t,e,"post"===n,a,o,i)})),i}},function(t,e,n){var r=n(236);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(59);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(31),o=n(15);t.exports=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){"use strict";var r=n(0),o=n(5).Graph,i=n(42).slack;function a(t,e){return r.forEach(t.nodes(),(function n(o){r.forEach(e.nodeEdges(o),(function(r){var a=r.v,u=o===a?r.w:a;t.hasNode(u)||i(e,r)||(t.setNode(u,{}),t.setEdge(o,u,{}),n(u))}))})),t.nodeCount()}function u(t,e){return r.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return i(e,n)}))}function c(t,e,n){r.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}t.exports=function(t){var e,n,r=new o({directed:!1}),s=t.nodes()[0],f=t.nodeCount();r.setNode(s,{});for(;a(r,t)<f;)e=u(r,t),n=r.hasNode(e.v)?i(t,e):-i(t,e),c(r,t,n);return r}},function(t,e,n){var r=n(116);t.exports={Graph:r.Graph,json:n(219),alg:n(220),version:r.version}},function(t,e,n){t.exports={Graph:n(43),version:n(218)}},function(t,e,n){var r=n(62);t.exports=function(t){return r(t,4)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(27),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(27);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(27);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(27);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(26);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(26),o=n(44),i=n(45);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(20),o=n(132),i=n(4),a=n(64),u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,f=c.toString,d=s.hasOwnProperty,h=RegExp("^"+f.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?h:u).test(a(t))}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(16),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[u]=n:delete t[u]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(133),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(6)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(136),o=n(26),i=n(44);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(137),o=n(138),i=n(139),a=n(140),u=n(141);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(28);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(28),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(28),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(29);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(29);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(29);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(29);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(21),o=n(10);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(12),o=n(7);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(12),o=n(48),i=n(7),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(67)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(21),o=n(13);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(4),o=n(34),i=n(155),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&n.push(u);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(21),o=n(51);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(21),o=n(72);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(74),o=n(72),i=n(13);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(11)(n(6),"DataView");t.exports=r},function(t,e,n){var r=n(11)(n(6),"Promise");t.exports=r},function(t,e,n){var r=n(11)(n(6),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(53),o=n(164),i=n(165),a=n(166),u=n(77);t.exports=function(t,e,n){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return i(t);case"[object Set]":return new c;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(53);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(16),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(168),o=n(33),i=n(49),a=i&&i.isMap,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(18),o=n(7);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(170),o=n(33),i=n(49),a=i&&i.isSet,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(18),o=n(7);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===n(i[c],c,i))break}return e}}},function(t,e,n){var r=n(8);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,u=Object(n);(e?a--:++a<i)&&!1!==o(u[a],a,u););return n}}},function(t,e,n){var r=n(36);t.exports=function(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}},function(t,e,n){var r=n(175),o=n(183),i=n(89);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(25),o=n(84);t.exports=function(t,e,n,i){var a=n.length,u=a,c=!i;if(null==t)return!u;for(t=Object(t);a--;){var s=n[a];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<u;){var f=(s=n[a])[0],d=t[f],h=s[1];if(c&&s[2]){if(void 0===d&&!(f in t))return!1}else{var l=new r;if(i)var p=i(d,h,f,t,e,l);if(!(void 0===p?o(h,d,3,i,l):p))return!1}}return!0}},function(t,e,n){var r=n(25),o=n(85),i=n(180),a=n(182),u=n(18),c=n(1),s=n(17),f=n(23),d="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,l,p,v){var g=c(t),y=c(e),x=g?"[object Array]":u(t),m=y?"[object Array]":u(e),b=(x="[object Arguments]"==x?d:x)==d,w=(m="[object Arguments]"==m?d:m)==d,E=x==m;if(E&&s(t)){if(!s(e))return!1;g=!0,b=!1}if(E&&!b)return v||(v=new r),g||f(t)?o(t,e,n,l,p,v):i(t,e,x,n,l,p,v);if(!(1&n)){var _=b&&h.call(t,"__wrapped__"),j=w&&h.call(e,"__wrapped__");if(_||j){var k=_?t.value():t,O=j?e.value():e;return v||(v=new r),p(k,O,n,l,v)}}return!!E&&(v||(v=new r),a(t,e,n,l,p,v))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(16),o=n(76),i=n(15),a=n(85),u=n(181),c=n(57),s=r?r.prototype:void 0,f=s?s.valueOf:void 0;t.exports=function(t,e,n,r,s,d,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!d(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var l=u;case"[object Set]":var p=1&r;if(l||(l=c),t.size!=e.size&&!p)return!1;var v=h.get(t);if(v)return v==e;r|=2,h.set(t,e);var g=a(l(t),l(e),r,s,d,h);return h.delete(t),g;case"[object Symbol]":if(f)return f.call(t)==f.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e,n){var r=n(73),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,a,u){var c=1&n,s=r(t),f=s.length;if(f!=r(e).length&&!c)return!1;for(var d=f;d--;){var h=s[d];if(!(c?h in e:o.call(e,h)))return!1}var l=u.get(t),p=u.get(e);if(l&&p)return l==e&&p==t;var v=!0;u.set(t,e),u.set(e,t);for(var g=c;++d<f;){var y=t[h=s[d]],x=e[h];if(i)var m=c?i(x,y,h,e,t,u):i(y,x,h,t,e,u);if(!(void 0===m?y===x||a(y,x,n,i,u):m)){v=!1;break}g||(g="constructor"==h)}if(v&&!g){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(t),u.delete(e),v}},function(t,e,n){var r=n(88),o=n(10);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},function(t,e,n){var r=n(84),o=n(185),i=n(91),a=n(58),u=n(88),c=n(89),s=n(24);t.exports=function(t,e){return a(t)&&u(e)?c(s(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,3)}}},function(t,e,n){var r=n(37);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){var r=n(187),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(188);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(45);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(16),o=n(39),i=n(1),a=n(19),u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(93),o=n(192),i=n(58),a=n(24);t.exports=function(t){return i(t)?r(a(t)):o(t)}},function(t,e,n){var r=n(37);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var r=n(50),o=n(18),i=n(22),a=n(1),u=n(8),c=n(17),s=n(34),f=n(23),d=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||f(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(s(t))return!r(t).length;for(var n in t)if(d.call(t,n))return!1;return!0}},function(t,e){t.exports=function(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}},function(t,e){t.exports=function(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}},function(t,e,n){var r=n(50),o=n(18),i=n(8),a=n(198),u=n(199);t.exports=function(t){if(null==t)return 0;if(i(t))return a(t)?u(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},function(t,e,n){var r=n(12),o=n(1),i=n(7);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==r(t)}},function(t,e,n){var r=n(200),o=n(201),i=n(202);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e,n){var r=n(93)("length");t.exports=r},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",s="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,a,u].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),f="(?:"+[i+r+"?",r,a,u,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+f+s,"g");t.exports=function(t){for(var e=d.lastIndex=0;d.test(t);)++e;return e}},function(t,e,n){var r=n(46),o=n(79),i=n(55),a=n(9),u=n(35),c=n(1),s=n(17),f=n(20),d=n(4),h=n(23);t.exports=function(t,e,n){var l=c(t),p=l||s(t)||h(t);if(e=a(e,4),null==n){var v=t&&t.constructor;n=p?l?new v:[]:d(t)&&f(v)?o(u(t)):{}}return(p?r:i)(t,(function(t,r,o){return e(n,t,r,o)})),n}},function(t,e,n){var r=n(59),o=n(40),i=n(209),a=n(102),u=o((function(t){return i(r(t,1,a,!0))}));t.exports=u},function(t,e,n){var r=n(16),o=n(22),i=n(1),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(54),o=n(65),i=n(14),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(86),o=n(210),i=n(214),a=n(87),u=n(215),c=n(57);t.exports=function(t,e,n){var s=-1,f=o,d=t.length,h=!0,l=[],p=l;if(n)h=!1,f=i;else if(d>=200){var v=e?null:u(t);if(v)return c(v);h=!1,f=a,p=new r}else p=e?[]:l;t:for(;++s<d;){var g=t[s],y=e?e(g):g;if(g=n||0!==g?g:0,h&&y==y){for(var x=p.length;x--;)if(p[x]===y)continue t;e&&p.push(y),l.push(g)}else f(p,y,n)||(p!==l&&p.push(y),l.push(g))}return l}},function(t,e,n){var r=n(211);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(101),o=n(212),i=n(213);t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(75),o=n(216),i=n(57),a=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(39);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e){t.exports="2.1.8"},function(t,e,n){var r=n(3),o=n(43);function i(t){return r.map(t.nodes(),(function(e){var n=t.node(e),o=t.parent(e),i={v:e};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(t){return r.map(t.edges(),(function(e){var n=t.edge(e),o={v:e.v,w:e.w};return r.isUndefined(e.name)||(o.name=e.name),r.isUndefined(n)||(o.value=n),o}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:a(t)};r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new o(t.options).setGraph(t.value);return r.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),r.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},function(t,e,n){t.exports={components:n(221),dijkstra:n(104),dijkstraAll:n(222),findCycles:n(223),floydWarshall:n(224),isAcyclic:n(225),postorder:n(226),preorder:n(227),prim:n(228),tarjan:n(106),topsort:n(107)}},function(t,e,n){var r=n(3);t.exports=function(t){var e,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,e.push(o),r.each(t.successors(o),i),r.each(t.predecessors(o),i))}return r.each(t.nodes(),(function(t){e=[],i(t),e.length&&o.push(e)})),o}},function(t,e,n){var r=n(104),o=n(3);t.exports=function(t,e,n){return o.transform(t.nodes(),(function(o,i){o[i]=r(t,i,e,n)}),{})}},function(t,e,n){var r=n(3),o=n(106);t.exports=function(t){return r.filter(o(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},function(t,e,n){var r=n(3);t.exports=function(t,e,n){return function(t,e,n){var r={},o=t.nodes();return o.forEach((function(t){r[t]={},r[t][t]={distance:0},o.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var o=n.v===t?n.w:n.v,i=e(n);r[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var e=r[t];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[t],o=e[n],a=i[n],u=r.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),r}(t,e||o,n||function(e){return t.outEdges(e)})};var o=r.constant(1)},function(t,e,n){var r=n(107);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,e,n){var r=n(108);t.exports=function(t,e){return r(t,e,"post")}},function(t,e,n){var r=n(108);t.exports=function(t,e){return r(t,e,"pre")}},function(t,e,n){var r=n(3),o=n(43),i=n(105);t.exports=function(t,e){var n,a=new o,u={},c=new i;function s(t){var r=t.v===n?t.w:t.v,o=c.priority(r);if(void 0!==o){var i=e(t);i<o&&(u[r]=n,c.decrease(r,i))}}if(0===t.nodeCount())return a;r.each(t.nodes(),(function(t){c.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),c.decrease(t.nodes()[0],0);var f=!1;for(;c.size()>0;){if(n=c.removeMin(),r.has(u,n))a.setEdge(n,u[n]);else{if(f)throw new Error("Input graph is not connected: "+t);f=!0}t.nodeEdges(n).forEach(s)}return a}},function(t,e,n){"use strict";var r=n(0),o=n(267),i=n(270),a=n(271),u=n(2).normalizeRanks,c=n(273),s=n(2).removeEmptyRanks,f=n(274),d=n(275),h=n(276),l=n(277),p=n(286),v=n(2),g=n(5).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?v.time:v.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new g({multigraph:!0,compound:!0}),n=O(t.graph());return e.setGraph(r.merge({},x,k(n,y),r.pick(n,m))),r.forEach(t.nodes(),(function(n){var o=O(t.node(n));e.setNode(n,r.defaults(k(o,b),w)),e.setParent(n,t.parent(n))})),r.forEach(t.edges(),(function(n){var o=O(t.edge(n));e.setEdge(n,r.merge({},_,k(o,E),r.pick(o,j)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){r.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){o.run(t)})),e("    nestingGraph.run",(function(){f.run(t)})),e("    rank",(function(){a(v.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};v.addDummyNode(t,"edge-proxy",o,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){s(t)})),e("    nestingGraph.cleanup",(function(){f.cleanup(t)})),e("    normalizeRanks",(function(){u(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;r.forEach(t.nodes(),(function(n){var o=t.node(n);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,e=r.max(e,o.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){i.run(t)})),e("    parentDummyChains",(function(){c(t)})),e("    addBorderSegments",(function(){d(t)})),e("    order",(function(){l(t)})),e("    insertSelfEdges",(function(){!function(t){var e=v.buildLayerMatrix(t);r.forEach(e,(function(e){var n=0;r.forEach(e,(function(e,o){var i=t.node(e);i.order=o+n,r.forEach(i.selfEdges,(function(e){v.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++n,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){h.adjust(t)})),e("    position",(function(){p(t)})),e("    positionSelfEdges",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,u=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){r.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),o=t.node(n.borderTop),i=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),u=t.node(r.last(n.borderRight));n.width=Math.abs(u.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}})),r.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){i.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){h.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=t.graph(),u=a.marginx||0,c=a.marginy||0;function s(t){var r=t.x,a=t.y,u=t.width,c=t.height;e=Math.min(e,r-u/2),n=Math.max(n,r+u/2),o=Math.min(o,a-c/2),i=Math.max(i,a+c/2)}r.forEach(t.nodes(),(function(e){s(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.has(n,"x")&&s(n)})),e-=u,o-=c,r.forEach(t.nodes(),(function(n){var r=t.node(n);r.x-=e,r.y-=o})),r.forEach(t.edges(),(function(n){var i=t.edge(n);r.forEach(i.points,(function(t){t.x-=e,t.y-=o})),r.has(i,"x")&&(i.x-=e),r.has(i,"y")&&(i.y-=o)})),a.width=n-e+u,a.height=i-o+c}(t)})),e("    assignNodeIntersects",(function(){!function(t){r.forEach(t.edges(),(function(e){var n,r,o=t.edge(e),i=t.node(e.v),a=t.node(e.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(v.intersectRect(i,n)),o.points.push(v.intersectRect(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){o.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){r.forEach(t.nodes(),(function(n){var r=t.node(n),o=e.node(n);r&&(r.x=o.x,r.y=o.y,e.children(n).length&&(r.width=o.width,r.height=o.height))})),r.forEach(t.edges(),(function(n){var o=t.edge(n),i=e.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=["nodesep","edgesep","ranksep","marginx","marginy"],x={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},m=["acyclicer","ranker","rankdir","align"],b=["width","height"],w={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],_={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},j=["labelpos"];function k(t,e){return r.mapValues(r.pick(t,e),Number)}function O(t){var e={};return r.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}},function(t,e,n){var r=n(62);t.exports=function(t){return r(t,5)}},function(t,e,n){var r=n(40),o=n(15),i=n(41),a=n(13),u=Object.prototype,c=u.hasOwnProperty,s=r((function(t,e){t=Object(t);var n=-1,r=e.length,s=r>2?e[2]:void 0;for(s&&i(e[0],e[1],s)&&(r=1);++n<r;)for(var f=e[n],d=a(f),h=-1,l=d.length;++h<l;){var p=d[h],v=t[p];(void 0===v||o(v,u[p])&&!c.call(t,p))&&(t[p]=f[p])}return t}));t.exports=s},function(t,e,n){var r=n(233)(n(234));t.exports=r},function(t,e,n){var r=n(9),o=n(8),i=n(10);t.exports=function(t){return function(e,n,a){var u=Object(e);if(!o(e)){var c=r(n,3);e=i(e),n=function(t){return c(u[t],t,u)}}var s=t(e,n,a);return s>-1?u[c?e[s]:s]:void 0}}},function(t,e,n){var r=n(101),o=n(9),i=n(235),a=Math.max;t.exports=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var c=null==n?0:i(n);return c<0&&(c=a(u+c,0)),r(t,o(e,3),c)}},function(t,e,n){var r=n(109);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(4),o=n(19),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=u.test(t);return n||c.test(t)?s(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e,n){var r=n(56),o=n(82),i=n(13);t.exports=function(t,e){return null==t?t:r(t,o(e),i)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(31),o=n(55),i=n(9);t.exports=function(t,e){var n={};return e=i(e,3),o(t,(function(t,o,i){r(n,o,e(t,o,i))})),n}},function(t,e,n){var r=n(60),o=n(241),i=n(14);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){var r=n(243),o=n(247)((function(t,e,n){r(t,e,n)}));t.exports=o},function(t,e,n){var r=n(25),o=n(111),i=n(56),a=n(244),u=n(4),c=n(13),s=n(112);t.exports=function t(e,n,f,d,h){e!==n&&i(n,(function(i,c){if(h||(h=new r),u(i))a(e,n,c,f,t,d,h);else{var l=d?d(s(e,c),i,c+"",e,n,h):void 0;void 0===l&&(l=i),o(e,c,l)}}),c)}},function(t,e,n){var r=n(111),o=n(68),i=n(77),a=n(69),u=n(78),c=n(22),s=n(1),f=n(102),d=n(17),h=n(20),l=n(4),p=n(245),v=n(23),g=n(112),y=n(246);t.exports=function(t,e,n,x,m,b,w){var E=g(t,n),_=g(e,n),j=w.get(_);if(j)r(t,n,j);else{var k=b?b(E,_,n+"",t,e,w):void 0,O=void 0===k;if(O){var A=s(_),S=!A&&d(_),N=!A&&!S&&v(_);k=_,A||S||N?s(E)?k=E:f(E)?k=a(E):S?(O=!1,k=o(_,!0)):N?(O=!1,k=i(_,!0)):k=[]:p(_)||c(_)?(k=E,c(E)?k=y(E):l(E)&&!h(E)||(k=u(_))):O=!1}O&&(w.set(_,k),m(k,_,x,b,w),w.delete(_)),r(t,n,k)}}},function(t,e,n){var r=n(12),o=n(35),i=n(7),a=Function.prototype,u=Object.prototype,c=a.toString,s=u.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=s.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e,n){var r=n(21),o=n(13);t.exports=function(t){return r(t,o(t))}},function(t,e,n){var r=n(40),o=n(41);t.exports=function(t){return r((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(n[0],n[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,a)}return e}))}},function(t,e,n){var r=n(60),o=n(113),i=n(14);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},function(t,e,n){var r=n(60),o=n(9),i=n(113);t.exports=function(t,e){return t&&t.length?r(t,o(e,2),i):void 0}},function(t,e,n){var r=n(6);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(252),o=n(255)((function(t,e){return null==t?{}:r(t,e)}));t.exports=o},function(t,e,n){var r=n(253),o=n(91);t.exports=function(t,e){return r(t,e,(function(e,n){return o(t,n)}))}},function(t,e,n){var r=n(37),o=n(254),i=n(38);t.exports=function(t,e,n){for(var a=-1,u=e.length,c={};++a<u;){var s=e[a],f=r(t,s);n(f,s)&&o(c,i(s,t),f)}return c}},function(t,e,n){var r=n(30),o=n(38),i=n(32),a=n(4),u=n(24);t.exports=function(t,e,n,c){if(!a(t))return t;for(var s=-1,f=(e=o(e,t)).length,d=f-1,h=t;null!=h&&++s<f;){var l=u(e[s]),p=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(s!=d){var v=h[l];void 0===(p=c?c(v,l,h):void 0)&&(p=a(v)?v:i(e[s+1])?[]:{})}r(h,l,p),h=h[l]}return t}},function(t,e,n){var r=n(110),o=n(99),i=n(100);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(257)();t.exports=r},function(t,e,n){var r=n(258),o=n(41),i=n(109);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&o(e,n,a)&&(n=a=void 0),e=i(e),void 0===n?(n=e,e=0):n=i(n),a=void 0===a?e<n?1:-1:i(a),r(e,n,a,t)}}},function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,o,i){for(var a=-1,u=r(n((e-t)/(o||1)),0),c=Array(u);u--;)c[i?u:++a]=t,t+=o;return c}},function(t,e,n){var r=n(59),o=n(260),i=n(40),a=n(41),u=i((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,r(e,1),[])}));t.exports=u},function(t,e,n){var r=n(39),o=n(37),i=n(9),a=n(97),u=n(261),c=n(33),s=n(262),f=n(14),d=n(1);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return d(t)?function(e){return o(e,1===t.length?t[0]:t)}:t})):[f];var h=-1;e=r(e,c(i));var l=a(t,(function(t,n,o){return{criteria:r(e,(function(e){return e(t)})),index:++h,value:t}}));return u(l,(function(t,e){return s(t,e,n)}))}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(263);t.exports=function(t,e,n){for(var o=-1,i=t.criteria,a=e.criteria,u=i.length,c=n.length;++o<u;){var s=r(i[o],a[o]);if(s)return o>=c?s:s*("desc"==n[o]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(19);t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t==t,a=r(t),u=void 0!==e,c=null===e,s=e==e,f=r(e);if(!c&&!f&&!a&&t>e||a&&u&&s&&!c&&!f||o&&u&&s||!n&&s||!i)return 1;if(!o&&!a&&!f&&t<e||f&&n&&i&&!o&&!a||c&&n&&i||!u&&i||!s)return-1}return 0}},function(t,e,n){var r=n(90),o=0;t.exports=function(t){var e=++o;return r(t)+e}},function(t,e,n){var r=n(30),o=n(266);t.exports=function(t,e){return o(t||[],e||[],r)}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=t.length,i=e.length,a={};++r<o;){var u=r<i?e[r]:void 0;n(a,t[r],u)}return a}},function(t,e,n){"use strict";var r=n(0),o=n(268);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?o(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},o={};function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),(function(t){r.has(n,t.w)?e.push(t):i(t.w)})),delete n[a])}return r.forEach(t.nodes(),i),e}(t);r.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))}))},undo:function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}}},function(t,e,n){var r=n(0),o=n(5).Graph,i=n(269);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new o,a=0,u=0;r.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),r.forEach(t.edges(),(function(t){var r=n.edge(t.v,t.w)||0,o=e(t),i=r+o;n.setEdge(t.v,t.w,i),u=Math.max(u,n.node(t.v).out+=o),a=Math.max(a,n.node(t.w).in+=o)}));var s=r.range(u+a+3).map((function(){return new i})),f=a+1;return r.forEach(n.nodes(),(function(t){c(s,f,n.node(t))})),{graph:n,buckets:s,zeroIdx:f}}(t,e||a),s=function(t,e,n){var r,o=[],i=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)u(t,e,n,r);for(;r=i.dequeue();)u(t,e,n,r);if(t.nodeCount())for(var c=e.length-2;c>0;--c)if(r=e[c].dequeue()){o=o.concat(u(t,e,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(s,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=r.constant(1);function u(t,e,n,o,i){var a=i?[]:void 0;return r.forEach(t.inEdges(o.v),(function(r){var o=t.edge(r),u=t.node(r.v);i&&a.push({v:r.v,w:r.w}),u.out-=o,c(e,n,u)})),r.forEach(t.outEdges(o.v),(function(r){var o=t.edge(r),i=r.w,a=t.node(i);a.in-=o,c(e,n,a)})),t.removeNode(o.v),a}function c(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function o(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,o)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){"use strict";var r=n(0),o=n(2);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),(function(e){!function(t,e){var n,r,i,a=e.v,u=t.node(a).rank,c=e.w,s=t.node(c).rank,f=e.name,d=t.edge(e),h=d.labelRank;if(s===u+1)return;for(t.removeEdge(e),i=0,++u;u<s;++i,++u)d.points=[],r={width:0,height:0,edgeLabel:d,edgeObj:e,rank:u},n=o.addDummyNode(t,"edge",r,"_d"),u===h&&(r.width=d.width,r.height=d.height,r.dummy="edge-label",r.labelpos=d.labelpos),t.setEdge(a,n,{weight:d.weight},f),0===i&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,c,{weight:d.weight},f)}(t,e)}))},undo:function(t){r.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),o=r.edgeLabel;for(t.setEdge(r.edgeObj,o);r.dummy;)n=t.successors(e)[0],t.removeNode(e),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),e=n,r=t.node(e)}))}}},function(t,e,n){"use strict";var r=n(42).longestPath,o=n(114),i=n(272);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":u(t);break;case"tight-tree":!function(t){r(t),o(t)}(t);break;case"longest-path":a(t);break;default:u(t)}};var a=r;function u(t){i(t)}},function(t,e,n){"use strict";var r=n(0),o=n(114),i=n(42).slack,a=n(42).longestPath,u=n(5).alg.preorder,c=n(5).alg.postorder,s=n(2).simplify;function f(t){t=s(t),a(t);var e,n=o(t);for(l(n),d(n,t);e=v(n);)y(n,t,e,g(n,t,e))}function d(t,e){var n=c(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=h(t,e,n)}(t,e,n)}))}function h(t,e,n){var o=t.node(n).parent,i=!0,a=e.edge(n,o),u=0;return a||(i=!1,a=e.edge(o,n)),u=a.weight,r.forEach(e.nodeEdges(n),(function(r){var a,c,s=r.v===n,f=s?r.w:r.v;if(f!==o){var d=s===i,h=e.edge(r).weight;if(u+=d?h:-h,a=n,c=f,t.hasEdge(a,c)){var l=t.edge(n,f).cutvalue;u+=d?-l:l}}})),u}function l(t,e){arguments.length<2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,n,o,i){var a=n,u=t.node(o);return e[o]=!0,r.forEach(t.neighbors(o),(function(i){r.has(e,i)||(n=p(t,e,n,i,o))})),u.low=a,u.lim=n++,i?u.parent=i:delete u.parent,n}function v(t){return r.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function g(t,e,n){var o=n.v,a=n.w;e.hasEdge(o,a)||(o=n.w,a=n.v);var u=t.node(o),c=t.node(a),s=u,f=!1;u.lim>c.lim&&(s=c,f=!0);var d=r.filter(e.edges(),(function(e){return f===x(t,t.node(e.v),s)&&f!==x(t,t.node(e.w),s)}));return r.minBy(d,(function(t){return i(e,t)}))}function y(t,e,n,o){var i=n.v,a=n.w;t.removeEdge(i,a),t.setEdge(o.v,o.w,{}),l(t),d(t,e),function(t,e){var n=r.find(t.nodes(),(function(t){return!e.node(t).parent})),o=u(t,n);o=o.slice(1),r.forEach(o,(function(n){var r=t.node(n).parent,o=e.edge(n,r),i=!1;o||(o=e.edge(r,n),i=!0),e.node(n).rank=e.node(r).rank+(i?o.minlen:-o.minlen)}))}(t,e)}function x(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=f,f.initLowLimValues=l,f.initCutValues=d,f.calcCutValue=h,f.leaveEdge=v,f.enterEdge=g,f.exchangeEdges=y},function(t,e,n){var r=n(0);t.exports=function(t){var e=function(t){var e={},n=0;function o(i){var a=n;r.forEach(t.children(i),o),e[i]={low:a,lim:n++}}return r.forEach(t.children(),o),e}(t);r.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),o=r.edgeObj,i=function(t,e,n,r){var o,i,a=[],u=[],c=Math.min(e[n].low,e[r].low),s=Math.max(e[n].lim,e[r].lim);o=n;do{o=t.parent(o),a.push(o)}while(o&&(e[o].low>c||s>e[o].lim));i=o,o=r;for(;(o=t.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(t,e,o.v,o.w),a=i.path,u=i.lca,c=0,s=a[c],f=!0;n!==o.w;){if(r=t.node(n),f){for(;(s=a[c])!==u&&t.node(s).maxRank<r.rank;)c++;s===u&&(f=!1)}if(!f){for(;c<a.length-1&&t.node(s=a[c+1]).minRank<=r.rank;)c++;s=a[c]}t.setParent(n,s),n=t.successors(n)[0]}}))}},function(t,e,n){var r=n(0),o=n(2);t.exports={run:function(t){var e=o.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return r.forEach(t.children(),(function(n){!function n(o,i){var a=t.children(o);a&&a.length&&r.forEach(a,(function(t){n(t,i+1)}));e[o]=i}(n,1)})),e}(t),i=r.max(r.values(n))-1,a=2*i+1;t.graph().nestingRoot=e,r.forEach(t.edges(),(function(e){t.edge(e).minlen*=a}));var u=function(t){return r.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;r.forEach(t.children(),(function(c){!function t(e,n,i,a,u,c,s){var f=e.children(s);if(!f.length)return void(s!==n&&e.setEdge(n,s,{weight:0,minlen:i}));var d=o.addBorderNode(e,"_bt"),h=o.addBorderNode(e,"_bb"),l=e.node(s);e.setParent(d,s),l.borderTop=d,e.setParent(h,s),l.borderBottom=h,r.forEach(f,(function(r){t(e,n,i,a,u,c,r);var o=e.node(r),f=o.borderTop?o.borderTop:r,l=o.borderBottom?o.borderBottom:r,p=o.borderTop?a:2*a,v=f!==l?1:u-c[s]+1;e.setEdge(d,f,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(l,h,{weight:p,minlen:v,nestingEdge:!0})})),e.parent(s)||e.setEdge(n,d,{weight:0,minlen:u+c[s]})}(t,e,a,u,i,n,c)})),t.graph().nodeRankFactor=a},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},function(t,e,n){var r=n(0),o=n(2);function i(t,e,n,r,i,a){var u={width:0,height:0,rank:a,borderType:e},c=i[e][a-1],s=o.addDummyNode(t,"border",u,n);i[e][a]=s,t.setParent(s,r),c&&t.setEdge(c,s,{weight:1})}t.exports=function(t){r.forEach(t.children(),(function e(n){var o=t.children(n),a=t.node(n);if(o.length&&r.forEach(o,e),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var u=a.minRank,c=a.maxRank+1;u<c;++u)i(t,"borderLeft","_bl",n,a,u),i(t,"borderRight","_br",n,a,u)}}))}},function(t,e,n){"use strict";var r=n(0);function o(t){r.forEach(t.nodes(),(function(e){i(t.node(e))})),r.forEach(t.edges(),(function(e){i(t.edge(e))}))}function i(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function u(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||o(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),(function(e){a(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(t);"lr"!==e&&"rl"!==e||(!function(t){r.forEach(t.nodes(),(function(e){u(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,u),r.has(n,"x")&&u(n)}))}(t),o(t))}}},function(t,e,n){"use strict";var r=n(0),o=n(278),i=n(279),a=n(280),u=n(284),c=n(285),s=n(5).Graph,f=n(2);function d(t,e,n){return r.map(e,(function(e){return u(t,e,n)}))}function h(t,e){var n=new s;r.forEach(t,(function(t){var o=t.graph().root,i=a(t,o,n,e);r.forEach(i.vs,(function(e,n){t.node(e).order=n})),c(t,n,i.vs)}))}function l(t,e){r.forEach(e,(function(e){r.forEach(e,(function(e,n){t.node(e).order=n}))}))}t.exports=function(t){var e=f.maxRank(t),n=d(t,r.range(1,e+1),"inEdges"),a=d(t,r.range(e-1,-1,-1),"outEdges"),u=o(t);l(t,u);for(var c,s=Number.POSITIVE_INFINITY,p=0,v=0;v<4;++p,++v){h(p%2?n:a,p%4>=2),u=f.buildLayerMatrix(t);var g=i(t,u);g<s&&(v=0,c=r.cloneDeep(u),s=g)}l(t,c)}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){var e={},n=r.filter(t.nodes(),(function(e){return!t.children(e).length})),o=r.max(r.map(n,(function(e){return t.node(e).rank}))),i=r.map(r.range(o+1),(function(){return[]}));var a=r.sortBy(n,(function(e){return t.node(e).rank}));return r.forEach(a,(function n(o){if(r.has(e,o))return;e[o]=!0;var a=t.node(o);i[a.rank].push(o),r.forEach(t.successors(o),n)})),i}},function(t,e,n){"use strict";var r=n(0);function o(t,e,n){for(var o=r.zipObject(n,r.map(n,(function(t,e){return e}))),i=r.flatten(r.map(e,(function(e){return r.sortBy(r.map(t.outEdges(e),(function(e){return{pos:o[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var u=2*a-1;a-=1;var c=r.map(new Array(u),(function(){return 0})),s=0;return r.forEach(i.forEach((function(t){var e=t.pos+a;c[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=c[e+1]),c[e=e-1>>1]+=t.weight;s+=t.weight*n}))),s}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=o(t,e[r-1],e[r]);return n}},function(t,e,n){var r=n(0),o=n(281),i=n(282),a=n(283);t.exports=function t(e,n,u,c){var s=e.children(n),f=e.node(n),d=f?f.borderLeft:void 0,h=f?f.borderRight:void 0,l={};d&&(s=r.filter(s,(function(t){return t!==d&&t!==h})));var p=o(e,s);r.forEach(p,(function(n){if(e.children(n.v).length){var o=t(e,n.v,u,c);l[n.v]=o,r.has(o,"barycenter")&&(i=n,a=o,r.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var v=i(p,u);!function(t,e){r.forEach(t,(function(t){t.vs=r.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(v,l);var g=a(v,c);if(d&&(g.vs=r.flatten([d,g.vs,h],!0),e.predecessors(d).length)){var y=e.node(e.predecessors(d)[0]),x=e.node(e.predecessors(h)[0]);r.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+y.order+x.order)/(g.weight+2),g.weight+=2}return g}},function(t,e,n){var r=n(0);t.exports=function(t,e){return r.map(e,(function(e){var n=t.inEdges(e);if(n.length){var o=r.reduce(n,(function(e,n){var r=t.edge(n),o=t.node(n.v);return{sum:e.sum+r.weight*o.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}return{v:e}}))}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){var n={};return r.forEach(t,(function(t,e){var o=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)})),r.forEach(e.edges(),(function(t){var e=n[t.v],o=n[t.w];r.isUndefined(e)||r.isUndefined(o)||(o.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function o(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(e,(function(t){return!t.merged})),(function(t){return r.pick(t,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(t){return!t.indegree})))}},function(t,e,n){var r=n(0),o=n(2);function i(t,e,n){for(var o;e.length&&(o=r.last(e)).i<=n;)e.pop(),t.push(o.vs),n++;return n}t.exports=function(t,e){var n=o.partition(t,(function(t){return r.has(t,"barycenter")})),a=n.lhs,u=r.sortBy(n.rhs,(function(t){return-t.i})),c=[],s=0,f=0,d=0;a.sort((h=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:h?e.i-t.i:t.i-e.i})),d=i(c,u,d),r.forEach(a,(function(t){d+=t.vs.length,c.push(t.vs),s+=t.barycenter*t.weight,f+=t.weight,d=i(c,u,d)}));var h;var l={vs:r.flatten(c,!0)};f&&(l.barycenter=s/f,l.weight=f);return l}},function(t,e,n){var r=n(0),o=n(5).Graph;t.exports=function(t,e,n){var i=function(t){var e;for(;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return t.node(e)}));return r.forEach(t.nodes(),(function(o){var u=t.node(o),c=t.parent(o);(u.rank===e||u.minRank<=e&&e<=u.maxRank)&&(a.setNode(o),a.setParent(o,c||i),r.forEach(t[n](o),(function(e){var n=e.v===o?e.w:e.v,i=a.edge(n,o),u=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:t.edge(e).weight+u})})),r.has(u,"minRank")&&a.setNode(o,{borderLeft:u.borderLeft[e],borderRight:u.borderRight[e]}))})),a}},function(t,e,n){var r=n(0);t.exports=function(t,e,n){var o,i={};r.forEach(n,(function(n){for(var r,a,u=t.parent(n);u;){if((r=t.parent(u))?(a=i[r],i[r]=u):(a=o,o=u),a&&a!==u)return void e.setEdge(a,u);u=r}}))}},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(287).positionX;t.exports=function(t){(function(t){var e=o.buildLayerMatrix(t),n=t.graph().ranksep,i=0;r.forEach(e,(function(e){var o=r.max(r.map(e,(function(e){return t.node(e).height})));r.forEach(e,(function(e){t.node(e).y=i+o/2})),i+=o+n}))})(t=o.asNonCompoundGraph(t)),r.forEach(i(t),(function(e,n){t.node(n).x=e}))}},function(t,e,n){"use strict";var r=n(0),o=n(5).Graph,i=n(2);function a(t,e){var n={};return r.reduce(e,(function(e,o){var i=0,a=0,u=e.length,s=r.last(o);return r.forEach(o,(function(e,f){var d=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),h=d?t.node(d).order:u;(d||e===s)&&(r.forEach(o.slice(a,f+1),(function(e){r.forEach(t.predecessors(e),(function(r){var o=t.node(r),a=o.order;!(a<i||h<a)||o.dummy&&t.node(e).dummy||c(n,r,e)}))})),a=f+1,i=h)})),o})),n}function u(t,e){var n={};function o(e,o,i,a,u){var s;r.forEach(r.range(o,i),(function(o){s=e[o],t.node(s).dummy&&r.forEach(t.predecessors(s),(function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>u)&&c(n,e,s)}))}))}return r.reduce(e,(function(e,n){var i,a=-1,u=0;return r.forEach(n,(function(r,c){if("border"===t.node(r).dummy){var s=t.predecessors(r);s.length&&(i=t.node(s[0]).order,o(n,u,c,a,i),u=c,a=i)}o(n,u,n.length,i,e.length)})),n})),n}function c(t,e,n){if(e>n){var r=e;e=n,n=r}var o=t[e];o||(t[e]=o={}),o[n]=!0}function s(t,e,n){if(e>n){var o=e;e=n,n=o}return r.has(t[e],n)}function f(t,e,n,o){var i={},a={},u={};return r.forEach(e,(function(t){r.forEach(t,(function(t,e){i[t]=t,a[t]=t,u[t]=e}))})),r.forEach(e,(function(t){var e=-1;r.forEach(t,(function(t){var c=o(t);if(c.length)for(var f=((c=r.sortBy(c,(function(t){return u[t]}))).length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var l=c[d];a[t]===t&&e<u[l]&&!s(n,t,l)&&(a[l]=t,a[t]=i[t]=i[l],e=u[l])}}))})),{root:i,align:a}}function d(t,e,n,i,a){var u={},c=function(t,e,n,i){var a=new o,u=t.graph(),c=function(t,e,n){return function(o,i,a){var u,c=o.node(i),s=o.node(a),f=0;if(f+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":u=-c.width/2;break;case"r":u=c.width/2}if(u&&(f+=n?u:-u),u=0,f+=(c.dummy?e:t)/2,f+=(s.dummy?e:t)/2,f+=s.width/2,r.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2}return u&&(f+=n?u:-u),u=0,f}}(u.nodesep,u.edgesep,i);return r.forEach(e,(function(e){var o;r.forEach(e,(function(e){var r=n[e];if(a.setNode(r),o){var i=n[o],u=a.edge(i,r);a.setEdge(i,r,Math.max(c(t,e,o),u||0))}o=e}))})),a}(t,e,n,a),s=a?"borderLeft":"borderRight";function f(t,e){for(var n=c.nodes(),r=n.pop(),o={};r;)o[r]?t(r):(o[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return f((function(t){u[t]=c.inEdges(t).reduce((function(t,e){return Math.max(t,u[e.v]+c.edge(e))}),0)}),c.predecessors.bind(c)),f((function(e){var n=c.outEdges(e).reduce((function(t,e){return Math.min(t,u[e.w]-c.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(u[e]=Math.max(u[e],n))}),c.successors.bind(c)),r.forEach(i,(function(t){u[t]=u[n[t]]})),u}function h(t,e){return r.minBy(r.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(e,(function(e,r){var i=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+i,n),o=Math.min(e-i,o)})),n-o}))}function l(t,e){var n=r.values(e),o=r.min(n),i=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var u,c=n+a,s=t[c];if(s!==e){var f=r.values(s);(u="l"===a?o-r.min(f):i-r.max(f))&&(t[c]=r.mapValues(s,(function(t){return t+u})))}}))}))}function p(t,e){return r.mapValues(t.ul,(function(n,o){if(e)return t[e.toLowerCase()][o];var i=r.sortBy(r.map(t,o));return(i[1]+i[2])/2}))}t.exports={positionX:function(t){var e,n=i.buildLayerMatrix(t),o=r.merge(a(t,n),u(t,n)),c={};r.forEach(["u","d"],(function(i){e="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(e=r.map(e,(function(t){return r.values(t).reverse()})));var a=("u"===i?t.predecessors:t.successors).bind(t),u=f(t,e,o,a),s=d(t,e,u.root,u.align,"r"===n);"r"===n&&(s=r.mapValues(s,(function(t){return-t}))),c[i+n]=s}))}));var s=h(t,c);return l(c,s),p(c,t.graph().align)},findType1Conflicts:a,findType2Conflicts:u,addConflict:c,hasConflict:s,verticalAlignment:f,horizontalCompaction:d,alignCoordinates:l,findSmallestWidthAlignment:h,balance:p}},function(t,e,n){var r=n(0),o=n(2),i=n(5).Graph;t.exports={debugOrdering:function(t){var e=o.buildLayerMatrix(t),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),r.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),r.forEach(e,(function(t,e){var o="layer"+e;n.setNode(o,{rank:"same"}),r.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}}},function(t,e){t.exports="0.8.5"},function(t,e,n){"use strict";n.r(e);function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i=function(t,e,n){var o,i=(o=document.createElementNS("http://www.w3.org/2000/svg","svg"),document.body.appendChild(o),{measure:function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","text");for(var r in n.setAttribute("x","0"),n.setAttribute("y","0"),e)n.setAttribute(r,e[r]);n.appendChild(document.createTextNode(t)),o.appendChild(n);var i=n.getBBox(),a=i.width,u=i.height;return o.removeChild(n),{width:a,height:u}},clean:function(){document.body.removeChild(o)}}),a=0,u=t.trim().split("\n").map((function(t){var o=t.trim().split(/\s+/),u=[],c=[];return o.forEach((function(t){var o=[].concat(r(c),[t]),s=i.measure(o.join(" "),n);s.width>e?(u.push(c.join(" ")),c=[t]):(a=Math.max(a,s.width),c.push(t))})),u.push(c.join(" ")),u})).reduce((function(t,e){return t.concat(e)}),[]);return i.clean(),{lines:u,maxW:a}};function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c={element:function(t,e,n){var r=document.createElementNS("http://www.w3.org/2000/svg",t);return e&&Object.entries(e).forEach((function(t){var e=a(t,2),n=e[0],o=e[1];return r.setAttribute(n,String(o))})),n&&r.classList.add(n),r},use:function(t,e){var n=c.element("use",e);return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+t),n},path:function(t,e,n){var r=c.element("path",e,n);return r.setAttribute("d",t),r},text:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=c.element("text",{x:e,y:n});return r&&o.setAttribute("text-anchor",r),""!=t&&o.append(t),o},textArea:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",s={"font-size":"".concat(n,"px"),"font-weight":r?"bold":"normal"},f=i(t,e,s),d=f.lines,h=f.maxW,l=c.text("",0,a,u);return d.forEach((function(t,e){var r=c.element("tspan",{x:o,dy:"".concat(n+2,"px")});for(var i in s)r.setAttribute(i,s[i]);r.append(t),l.append(r)})),{txt:l,dy:(d.length+1)*(n+2),maxW:h}},rect:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return c.element("rect",{x:n,y:r,rx:o,ry:o,width:t,height:e},i)},icon:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return c.use(t,{x:e,y:n})},expand:function(t,e,n){var r=c.element("g",{},"expand");return s(r,t,e),r.append(c.rect(19,19,0,0,1),c.text(n?"-":"+",10,14,"middle")),r.setAttribute("transform","translate(".concat(t,",").concat(e,")")),r}};function s(t,e,n){t.setAttribute("transform","translate(".concat(e,",").concat(n,")"))}function f(t,e,n,r){var o=function(t,e,n){var r;function o(t){return void 0===t.changedTouches?t:t.changedTouches[0]}function i(t){t=o(t),e(t.clientX-r.ex,t.clientY-r.ey)}var a=function(t){document.removeEventListener("touchmove",i),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a),document.removeEventListener("touchend",a),n(t)};return function(e){e=o(e),r={ex:e.clientX,ey:e.clientY},t(e),document.addEventListener("touchmove",i),document.addEventListener("mousemove",i),document.addEventListener("mouseup",a),document.addEventListener("touchend",a)}}(e,n,r);t.addEventListener("mousedown",o),t.addEventListener("touchstart",o)}function d(t){var e,n,r,o,i=(n=t.svg,o=null,{ini:function(t){var e=n.getBoundingClientRect();o={x:t.clientX-e.x,y:t.clientY-e.y},r=null},update:function(t,e){if(o){var i=n.querySelector(".elastic");(r=n.createSVGRect()).x=t>0?o.x:o.x+t,r.y=e>0?o.y:o.y+e,r.width=Math.abs(t),r.height=Math.abs(e),i.setAttribute("x",String(r.x)),i.setAttribute("y",String(r.y)),i.setAttribute("width",String(r.width)),i.setAttribute("height",String(r.height)),i.classList.add("on")}},end:function(){if(o=null,!r)return null;n.querySelector(".elastic").classList.remove("on");var t=r;return r=null,t}});f(t.svg,(function(n){var r=t.nodeFromEvent(n);if(!r)return e=[],void i.ini(n);var o=t.getSelection();t.isSelected(r)?n.shiftKey&&(o=o.filter((function(t){return t!=r}))):n.shiftKey?o.push(r):o=[r],t.setSelection(o),e=o.map((function(t){return{x:t.x,y:t.y,n:t}}))}),(function(n,r){e.forEach((function(e){var o=t.getZoom();t.moveNode(e.n,e.x+n/o,e.y+r/o)})),i.update(n,r),t.setDragging(!0)}),(function(n){t.setDragging(!1);var r=i.end();r?t.boxSelection(r,n.shiftKey):e.length||t.setSelection([]),t.updatePanning()}))}function h(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?t.x>e.x-e.width/2&&t.x<e.x+e.width/2&&t.y>e.y-e.height/2&&t.y<e.y+e.height/2:t.x>e.x&&t.x<e.x+e.width&&t.y>e.y&&t.y<e.y+e.height}function l(t,e,n){var r=n.width/2,o=n.height/2;return[{p:{x:n.x-r,y:n.y-o},q:{x:n.x-r,y:n.y+o}},{p:{x:n.x-r,y:n.y-o},q:{x:n.x+r,y:n.y-o}},{p:{x:n.x+r,y:n.y-o},q:{x:n.x+r,y:n.y+o}},{p:{x:n.x-r,y:n.y+o},q:{x:n.x+r,y:n.y+o}}].map((function(n){return function(t,e,n,r){var o,i,a,u,c,s={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(o=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y))||(i=t.y-n.y,a=t.x-n.x,u=(r.x-n.x)*i-(r.y-n.y)*a,c=(e.x-t.x)*i-(e.y-t.y)*a,i=u/o,a=c/o,s.x=t.x+i*(e.x-t.x),s.y=t.y+i*(e.y-t.y),i>0&&i<1&&(s.onLine1=!0),a>0&&a<1&&(s.onLine2=!0)),s}(t,e,n.p,n.q)})).filter((function(t){return t.onLine1&&t.onLine2}))}function p(t,e){return h(e,t)?{x:t.x,y:t.y}:l(t,e,t)[0]||{x:t.x,y:t.y}}function v(t,e,n,r,o){var i={x:o.x-t.x,y:o.y-t.y},a=r.x-t.x,u=r.y-t.y;a==i.x&&(i.x+=1e-7);var c=(u-i.y)/(a-i.x),s=u-c*a,f=n*n+e*e*c*c,d=2*e*e*s*c,h=e*e*s*s-e*e*n*n,l=Math.sqrt(d*d-4*f*h),p=i.x>a?(-d+l)/(2*f):(-d-l)/(2*f),v={x:p,y:c*p+s};return v.x+=t.x,v.y+=t.y,v}function g(t,e,n){var r=n.x-e.x,o=n.y-e.y,i=r*r+o*o,a=(t.x-e.x)*r+(t.y-e.y)*o,u=Math.min(1,Math.max(0,a/i));return{x:e.x+r*u,y:e.y+o*u}}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var x=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._el=e}var e,n,r;return e=t,(n=[{key:"node",value:function(){return this._el}},{key:"attr",value:function(t,e){return this._el.setAttribute(t,String(e)),this}},{key:"insert",value:function(e,n){var r=document.createElementNS("http://www.w3.org/2000/svg",e);return new t(this._el.insertBefore(r,this._el.querySelector(n)))}}])&&y(e.prototype,n),r&&y(e,r),t}();function m(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t.insert("rect",":first-child").attr("rx",r?n.width/8:3).attr("ry",r?n.width/8:3).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(t){return p(n,t)},o}function b(t,e,n,r,o){var i=t.insert("ellipse",":first-child").attr("cx",0).attr("cy",0).attr("rx",r).attr("ry",o).attr("width",n.width).attr("height",n.height);return n.intersect=function(t){return v(n,r,o,n,t)},i}function w(t,e,n){var r=n.width/8,o=n.width/14,i=t.insert("g",":first-child");return i.insert("path",":first-child").attr("d","M".concat(-n.width/2,",").concat(-n.height/2," l").concat(n.width,",0 M").concat(-n.width/2,",").concat(n.height/2," l").concat(n.width,",0")),i.insert("circle",":first-child").attr("cx",0).attr("cy",n.height/2+r/2).attr("r",.4*o),i.insert("rect",":first-child").attr("x",-o).attr("y",-n.height/2-r/2-.2*o).attr("width",2*o).attr("height",.4*o),i.insert("rect",":first-child").attr("rx",o).attr("ry",o).attr("x",-e.width/2).attr("y",-e.height/2-r).attr("width",e.width).attr("height",e.height+2*r),n.intersect=function(t){return p({x:n.x,y:n.y,width:n.width,height:n.height+2*r},t)},i}var E={box:function(t,e){return m(new x(t),e,e).node()},roundedbox:function(t,e){return m(new x(t),e,e,!0).node()},component:function(t,e){return function(t,e,n){var r=n.width/10,o=t.insert("g",":first-child");return o.insert("rect",":first-child").attr("rx",3).attr("ry",3).attr("x",-n.width/2-r).attr("y",-n.height/2+r).attr("width",2*r).attr("height",r),o.insert("rect",":first-child").attr("rx",3).attr("ry",3).attr("x",-n.width/2-r).attr("y",-n.height/2+2.5*r).attr("width",2*r).attr("height",r),o.insert("rect",":first-child").attr("rx",3).attr("ry",3).attr("x",-n.width/2).attr("y",-n.height/2).attr("width",n.width).attr("height",n.height),n.intersect=function(t){return p({x:n.x-r/2,y:n.y,width:n.width+r,height:n.height},t)},o}(new x(t),0,e).node()},cylinder:function(t,e){return function(t,e,n){var r=e.width,o=r/2,i=o/(2.5+r/70),a=e.height,u="M 0,".concat(i," a").concat(o,",").concat(i," 0,0,0 ").concat(r," 0 a ").concat(o,",").concat(i," 0,0,0 ").concat(-r," 0 l 0,").concat(a-2*i," a ").concat(o,",").concat(i," 0,0,0 ").concat(r," 0 l 0,").concat(2*i-a),c=t.attr("label-offset-y",2*i).insert("path",":first-child").attr("d",u).attr("transform","translate("+-r/2+","+-a/2+")");return n.intersect=function(t){var e=p(n,t),r=n.y+n.height/2-i;return e.y>r?v({x:n.x,y:r},o,i,n,t):(r=n.y-n.height/2+i,e.y<r?v({x:n.x,y:r},o,i,n,t):e)},c}(new x(t),e,e).node()},person:function(t,e){return function(t,e,n){var r=e.width,o=e.height,i="M ".concat(.38*r,",").concat(o/3," A").concat(r/2,",").concat(o/2," 0,0,0 0 ").concat(o/2,"\n\t\tL").concat(r/11,",").concat(o," L").concat(r-r/11,",").concat(o," L").concat(r,",").concat(o/2,"\n\t\tA").concat(r/2,",").concat(o/2," 0,0,0 ").concat(r-.38*r," ").concat(o/3," \n\t\tA").concat(r/6,",").concat(r/6," 0,1,0 ").concat(.38*r," ").concat(o/3),a=t.attr("label-offset-y",.4*o).insert("path",":first-child").attr("d",i).attr("transform","translate("+-r/2+","+-o/2+")");return n.intersect=function(t){return p(n,t)},a}(new x(t),e,e).node()},circle:function(t,e){return function(t,e,n){return b(t,0,n,n.width/2,n.width/2)}(new x(t),0,e).node()},ellipse:function(t,e){return function(t,e,n){return b(t,0,n,.55*n.width,.45*n.width)}(new x(t),0,e).node()},hexagon:function(t,e){return function(t,e,n){var r=n.width/2,o=t.insert("polygon",":first-child").attr("points",[.5,.866,1,0,.5,-.866,-.5,-.866,-1,-0,-.5,.866,.5,.866].map((function(t){return t*r})).join(",")).attr("width",n.width).attr("height",n.height);return n.intersect=function(t){return v(n,n.width/2,n.width/2,n,t)},o}(new x(t),0,e).node()},folder:function(t,e){return function(t,e,n){var r=n.width/20,o=t.attr("label-offset-y",2*r).insert("g",":first-child");return o.insert("rect",":first-child").attr("rx",3).attr("ry",3).attr("x",-n.width/2).attr("y",-n.height/2+2*r).attr("width",n.width).attr("height",n.height-2*r),o.insert("path",":first-child").attr("d","M0,".concat(-n.height/2+2*r," l").concat(r,",").concat(-2*r," h").concat(n.width/2-2*r," v").concat(2*r)),n.intersect=function(t){return p({x:n.x,y:n.y+r/2,width:n.width,height:n.height+r},t)},o}(new x(t),0,e).node()},mobiledevicelandscape:function(t,e){return function(t,e,n){var r=n.width/8,o=n.width/14,i=t.insert("g",":first-child");return i.insert("path",":first-child").attr("d","M".concat(-n.width/2,",").concat(-n.height/2," l0,").concat(n.height," M").concat(n.width/2,",").concat(-n.height/2," l0,").concat(n.height)),i.insert("circle",":first-child").attr("cx",-n.width/2-r/2).attr("cy",0).attr("r",.4*o),i.insert("rect",":first-child").attr("x",n.width/2+r/2-.2*o).attr("y",-o).attr("width",.4*o).attr("height",2*o),i.insert("rect",":first-child").attr("rx",o).attr("ry",o).attr("x",-e.width/2-r).attr("y",-e.height/2).attr("width",e.width+2*r).attr("height",e.height),n.intersect=function(t){return p({x:n.x,y:n.y,width:n.width+2*r,height:n.height},t)},i}(new x(t),e,e).node()},mobiledeviceportrait:function(t,e){return w(new x(t),e,e).node()},mobiledevice:function(t,e){return w(new x(t),e,e).node()},pipe:function(t,e){return function(t,e,n){var r=n.width,o=n.height,i=o/2,a=i/(2.5+r/70),u="M".concat(-a,",0\n\t\ta").concat(a,",").concat(i," 0,0,1 0,").concat(o,"\n\t\ta").concat(a,",").concat(i," 0,0,1 0,").concat(-o,"\n\t\tl").concat(r,",0\n\t\ta").concat(a,",").concat(i," 0,0,1 0,").concat(o,"\n\t\tl").concat(-r,",0"),c=t.insert("path",":first-child").attr("d",u).attr("transform","translate("+-r/2+","+-o/2+")");return n.intersect=function(t){return p({x:n.x-a,y:n.y,width:n.width+2*a,height:n.height},t)},c}(new x(t),0,e).node()},robot:function(t,e){return function(t,e,n){var r=.45*n.width,o=n.width/16,i=r/2-o,a=t.attr("label-offset-y",r).insert("g",":first-child").attr("transform","translate(0,"+r/4+")");return a.insert("rect",":first-child").attr("rx",o).attr("ry",o).attr("x",-r/2).attr("y",-n.height/2-r/2).attr("width",r).attr("height",r),a.insert("path",":first-child").attr("d","\n\t\t\tM".concat(-r/2,",").concat(-n.height/2+o/2," h-20 v-40 h20\n\t\t\tM").concat(r/2,",").concat(-n.height/2+o/2," h20 v-40 h-20\n\t\t")),a.insert("rect",":first-child").attr("rx",o).attr("ry",o).attr("x",-n.width/2).attr("y",-n.height/2+i).attr("width",n.width).attr("height",n.height-i),n.intersect=function(t){return p({x:n.x,y:n.y,width:n.width,height:n.height+r/2},t)},a}(new x(t),0,e).node()},webbrowser:function(t,e){return function(t,e,n){var r=n.height/8,o=t.attr("label-offset-y",r).insert("g",":first-child");return o.insert("path",":first-child").attr("d","\n\t\t\tM".concat(-n.width/2,",").concat(-n.height/2+r," h").concat(n.width,"\n\t\t\tM").concat(-n.width/2+r/4,",").concat(-n.height/2+r/4," h").concat(r/2," v").concat(r/2," h").concat(-r/2," z\n\t\t\tM").concat(-n.width/2+r,",").concat(-n.height/2+r/4," h").concat(n.width-r-r/4," v").concat(r/2," h").concat(-n.width+r+r/4," z\n\t\t")),o.insert("rect",":first-child").attr("rx",3).attr("ry",3).attr("x",-n.width/2).attr("y",-n.height/2).attr("width",n.width).attr("height",n.height),n.intersect=function(t){return p(n,t)},o}(new x(t),0,e).node()}},_=n(61);function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var k=new Map,O=function(){function t(e,n,r){var o,i,a;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.exportDoc=n,this.importDoc=r,this.change=(o=this.saveNow,i=300,function(){var t=this;clearTimeout(a),a=setTimeout((function(){a=null,o.apply(t)}),i)}),this.id=e,k.has(this.id)){var u=k.get(this.id);this.versions=u.versions,this.pos=u.pos}else this.pos=1,this.versions=[]}var e,n,r;return e=t,(n=[{key:"beforeChange",value:function(){this.tmpPreviousState||(this.tmpPreviousState=this.deepClone(this.exportDoc()))}},{key:"length",value:function(){return this.versions.length}},{key:"currentState",value:function(){return this.deepClone(this.versions[this.pos-1])}},{key:"saveNow",value:function(){if(!this.tmpPreviousState)throw Error("undo.change() was called without previously calling undo.beforeChange()!");this.versions[this.pos]=this.deepClone(this.exportDoc()),this.versions[this.pos-1]=this.tmpPreviousState,this.tmpPreviousState=null,this.pos+=1,this.versions.splice(this.pos,this.versions.length-this.pos),this.saveCache()}},{key:"saveCache",value:function(){k.set(this.id,{versions:this.versions,pos:this.pos})}},{key:"deepClone",value:function(t){return JSON.parse(JSON.stringify(t))}},{key:"undo",value:function(){if(!(this.pos<2)){this.pos-=1;var t=this.versions[this.pos-1];this.importDoc(this.deepClone(t)),this.saveCache()}}},{key:"redo",value:function(){if(!(this.pos>this.versions.length-1)){var t=this.versions[this.pos];this.importDoc(this.deepClone(t)),this.pos+=1,this.saveCache()}}}])&&j(e.prototype,n),r&&j(e,r),t}();function A(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||N(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t){return function(t){if(Array.isArray(t))return M(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||N(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){if(t){if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(t,e):void 0}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var T={thickness:3,color:"#999",opacity:1,fontSize:22,dashed:!0},V={width:300,height:300,background:"rgba(255, 255, 255, .9)",color:"#666",opacity:.9,stroke:"#999",fontSize:22,shape:"Rect"},z=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.name=n,this.edges=[],this.edgeVertices=new Map,this.nodesMap=new Map,this.groupsMap=new Map,this._undo=new O(this.id,(function(){return r.exportLayout(!0)}),(function(t){return r.importLayout(t,!0)})),window.graph=this}var e,n,r;return e=t,(n=[{key:"init",value:function(t){var e=this;t&&this.importLayout(t),this._undo=new O(this.id,(function(){return e.exportLayout(!0)}),(function(t){return e.importLayout(t,!0)})),this._undo.length()&&this.importLayout(this._undo.currentState())}},{key:"addNode",value:function(t,e,n,r,o){if(this.nodesMap.has(t))throw Error("duplicate node: "+t);var i={id:t,title:e,sub:n,description:r,style:C(C({},V),o),x:0,y:0,width:o.width,height:o.height,intersect:null};this.nodesMap.set(i.id,i)}},{key:"nodes",value:function(){return Array.from(this.nodesMap.values())}},{key:"addEdge",value:function(t,e,n,r,o,i){var a=this;o&&o.forEach((function(e,n){var r=e;r.id="v-".concat(t,"-").concat(n),a.edgeVertices.set(r.id,r)}));var u={id:t,from:this.nodesMap.get(e),to:this.nodesMap.get(n),label:r,vertices:null,style:C(C({},T),i),initVertex:function(t){var e=t;return e.id||(e.id="v-".concat(Math.round(1e10*Math.random()).toString(36)),a.edgeVertices.set(e.id,e)),e.edge=u,t}};this.edges.push(u),o&&(u.vertices=o.map((function(t){return u.initVertex(t)})))}},{key:"addGroup",value:function(t,e,n){var r=this;if(this.groupsMap.has(t))console.error("Group exists: ".concat(t," ").concat(e));else{var o={id:t,name:e,x:null,y:null,width:null,height:null,nodes:n.map((function(n){var o=r.nodesMap.get(n)||r.groupsMap.get(n);return o||console.error("Node or group ".concat(n," not found for group ").concat(t,' "').concat(e,'"')),o})).filter(Boolean)};this.groupsMap.set(t,o)}}},{key:"setNodeSelected",value:function(t,e){t.selected=e,e?t.ref.classList.add("selected"):t.ref.classList.remove("selected"),this.updateEdgesSel()}},{key:"updateEdgesSel",value:function(){this.edges.forEach((function(t){t.to.selected||t.from.selected?t.ref.classList.add("selected"):t.ref.classList.remove("selected")}))}},{key:"moveNode",value:function(t,e,n){t.x==e&&t.y==n||(this._undo.beforeChange(),t.x=e,t.y=n,s(t.ref,e,n),this.redrawEdges(t),this.redrawGroups(t),this._undo.change())}},{key:"moveEdgeVertex",value:function(t,e,n){t.x==e&&t.y==n||(this._undo.beforeChange(),t.x=e,t.y=n,this.redrawEdge(t.edge),this._undo.change())}},{key:"insertEdgeVertex",value:function(t,e,n,r){this._undo.beforeChange();var o=t.initVertex(e);o.selected=!0,r&&(t.vertices.forEach((function(t){return t.label=!1})),o.label=!0),t.vertices.splice(n-1,0,o),this.redrawEdge(t),this._undo.change()}},{key:"deleteEdgeVertex",value:function(t){this._undo.beforeChange(),t.auto?t.auto=!0:(t.edge.vertices.splice(t.edge.vertices.indexOf(t),1),this.edgeVertices.delete(t.id)),this.redrawEdge(t.edge),this._undo.change()}},{key:"undo",value:function(){this._undo.undo()}},{key:"redo",value:function(){this._undo.redo()}},{key:"alignTopLeft",value:function(){var t=this,e=this.nodes(),n=Array.from(this.edgeVertices.values()),r=e.concat(n),o=Math.min.apply(Math,S(r.map((function(t){return t.x}))))-250,i=Math.min.apply(Math,S(r.map((function(t){return t.y}))))-250;this.nodesMap.forEach((function(e){return t.moveNode(e,e.x-o,e.y-i)})),n.forEach((function(e){return t.moveEdgeVertex(e,e.x-o,e.y-i)}))}},{key:"redrawEdges",value:function(t){var e=this;this.edges.forEach((function(n){return(t==n.from||t==n.to)&&e.redrawEdge(n)})),this.updateEdgesSel()}},{key:"redrawEdge",value:function(t){var e=t.ref.parentElement;e.removeChild(t.ref),t.ref=q(this,t),e.append(t.ref)}},{key:"redrawGroups",value:function(t){this.groupsMap.forEach((function(t){var e=t.ref.parentElement;e.removeChild(t.ref),G(t),e.append(t.ref)}))}},{key:"exportSVG",value:function(){var t=document.querySelector("svg#graph"),e=t.querySelector("rect.elastic"),n=e.parentElement;n.removeChild(e);var r=$();Y(1);var o=document.createElement("script");o.setAttribute("type","application/json"),o.append("<![CDATA["+JSON.stringify(this.metadata,null,2).replace(/]]>/g,"]]]>]><![CDATA[")+"]]>"),t.insertBefore(o,t.firstChild);var i=t.outerHTML;return t.removeChild(o),n.append(e),Y(r),i.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')}},{key:"exportLayout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={};return this.nodes().forEach((function(t){return e[t.id]={x:t.x,y:t.y}})),this.edges.forEach((function(n){var r=n.vertices.filter((function(t){return!t.auto})).map((function(t){return{x:t.x,y:t.y,label:t.label}}));(r.length||t)&&(e["e-".concat(n.id)]=r)})),e}},{key:"importLayout",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.entries(t).forEach((function(t){var n=A(t,2),r=n[0],o=n[1],i=e.nodesMap.get(r);if(i)i.x=o.x,i.y=o.y;else if(r.startsWith("e-")){var a=e.edges.find((function(t){return t.id==r.slice(2)}));if(!a)return;return a.vertices&&a.vertices.forEach((function(t){return e.edgeVertices.delete(t.id)})),void(a.vertices=o.map((function(t){return a.initVertex(t)})))}})),n&&(this.nodes().forEach((function(t){return s(t.ref,t.x,t.y)})),this.edges.forEach((function(t){return e.redrawEdge(t)})),this.updateEdgesSel(),this.redrawGroups(null))}},{key:"autoLayout",value:function(){var t,e,n=this,r=(t=this,(e=new _.graphlib.Graph({multigraph:!0})).setGraph({marginx:250,marginy:250,nodesep:150,ranksep:150}),t.nodesMap.forEach((function(t){e.setNode(t.id,{width:t.width+1,height:t.height+1})})),t.edges.forEach((function(t){return e.setEdge(t.from.id,t.to.id,{labelpos:"c",width:200,height:30},t.id)})),Object(_.layout)(e),{nodes:e.nodes().map((function(t){return{id:t,x:e.node(t).x,y:e.node(t).y}})),edges:e.edges().map((function(t){var n=e.edge(t);return{id:t.name,vertices:n.points,label:{x:n.x,y:n.y}}}))});r.nodes.forEach((function(t){var e=n.nodesMap.get(t.id);n.moveNode(e,t.x,t.y)})),this.edgeVertices.clear(),r.edges.forEach((function(t){var e=n.edges.find((function(e){return e.id==t.id})),r=t.vertices.find((function(e){return t.label.x==e.x&&t.label.y==e.y}));r&&(r.label=!0),e.vertices=t.vertices.slice(1,-1).map((function(t){return e.initVertex(t)})),n.redrawEdge(e)})),K()}},{key:"alignSelectionV",value:function(){var t=this,e=this.nodes().filter((function(t){return t.selected}));e.push.apply(e,S(Array.from(this.edgeVertices.values()).filter((function(t){return t.selected}))));var n=Math.min.apply(Math,S(e.map((function(t){return t.y}))));this.nodesMap.forEach((function(e){return e.selected&&t.moveNode(e,e.x,n)})),this.edgeVertices.forEach((function(e){return e.selected&&t.moveEdgeVertex(e,e.x,n)}))}},{key:"alignSelectionH",value:function(){var t=this,e=this.nodes().filter((function(t){return t.selected}));e.push.apply(e,S(Array.from(this.edgeVertices.values()).filter((function(t){return t.selected}))));var n=Math.min.apply(Math,S(e.map((function(t){return t.x}))));this.nodesMap.forEach((function(e){return e.selected&&t.moveNode(e,n,e.y)})),this.edgeVertices.forEach((function(e){return e.selected&&t.moveEdgeVertex(e,n,e.y)}))}}])&&P(e.prototype,n),r&&P(e,r),t}();var D,R=document.querySelector("svg#graph");R||((R=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("id","graph"),R.addEventListener("click",(function(t){return D(t)})),function(t){function e(t){return t.__data}var n=function(){return e(t)};function r(e,n){e.selected=n;var r=t.querySelector("#"+e.id);e.selected?r.classList.add("selected"):r.classList.remove("selected")}function o(){var e=t.querySelector("g.edges #prj");e&&e.parentElement.removeChild(e)}t.addEventListener("mousemove",(function(e){if(e.altKey){var r=U(n(),W(e));if(r){var i=r.prj,a=t.querySelector("g.edges"),u=a.querySelector("#prj");u||(u=c.element("circle",{id:"prj",cx:i.x,cy:i.y,r:7}),a.append(u)),u.setAttribute("cx",String(i.x)),u.setAttribute("cy",String(i.y))}else o()}})),window.addEventListener("keyup",(function(t){"AltLeft"!=t.code&&"AltRight"!=t.code||o()})),t.addEventListener("click",(function(t){if(t.altKey){var e=U(n(),W(t));if(e){var r=e.edge,i=e.pos,a=e.prj;n().insertEdgeVertex(r,a,i,t.shiftKey),o()}}})),window.addEventListener("keydown",(function(t){"Delete"!=t.code&&"Backspace"!=t.code||Array.from(n().edgeVertices.values()).filter((function(t){return t.selected})).forEach((function(t){n().deleteEdgeVertex(t)}))})),d({svg:t,nodeFromEvent:function(t){t.preventDefault();var r=t.target.closest("g.nodes g.node");return r?e(r):(r=t.target.closest("g.edges g.edge .v-dot"))?n().edgeVertices.get(r.id):null},setSelection:function(t){n().nodes().forEach((function(e){return n().setNodeSelected(e,t.some((function(t){return t.id==e.id})))})),n().edgeVertices.forEach((function(e){return r(e,t.some((function(t){return t.id==e.id})))})),B(n().nodes().find((function(t){return t.selected})))},setDragging:function(t){t},isSelected:function(t){return t.selected},getSelection:function(){var t=n().nodes().filter((function(t){return t.selected}));return n().edgeVertices.forEach((function(e){return e.selected&&t.push(e)})),t},getZoom:$,moveNode:function(t,e,r){n().nodesMap.has(t.id)?n().moveNode(t,e,r):(t.auto=!1,n().moveEdgeVertex(t,e,r))},boxSelection:function(t,e){var o=function(t,e){return{x:t.x*e,y:t.y*e,width:t.width*e,height:t.height*e}}(t,1/$());n().nodesMap.forEach((function(t){return n().setNodeSelected(t,e&&t.selected||(r=function(t){return{x:t.x-t.width/2,y:t.y-t.height/2,width:t.width,height:t.height}}(t),i=o,r.x<i.x+i.width&&r.y<i.y+i.height&&r.x+r.width>i.x&&r.y+r.height>i.y));var r,i})),n().edgeVertices.forEach((function(t){return r(t,e&&t.selected||h(t,o,!1))})),B(n().nodes().find((function(t){return t.selected})))},updatePanning:K})}(R)),R.setAttribute("width","100%"),R.setAttribute("height","100%");var B,F=function(t){var e=c.element("g",{},"zoom"),n=c.element("g",{},"nodes"),r=c.element("g",{},"edges"),o=c.element("g",{},"groups");e.append(o,r,n),t.nodesMap.forEach((function(e){!function(t,e){window.gdata=e;var n=t.style.width,r=t.style.height;t.width=n,t.height=r;var o=c.element("g",{},"node");o.setAttribute("id",t.id),t.selected&&o.classList.add("selected"),s(o,t.x,t.y);var i=(E[t.style.shape.toLowerCase()]||E.box)(o,t);i.classList.add("nodeBorder"),H(i,X.nodeBorder),i.setAttribute("fill",t.style.background),i.setAttribute("stroke",t.style.stroke),i.setAttribute("opacity",String(t.style.opacity)),J(i,t.style.border);var a=c.element("g"),u=Number(o.getAttribute("label-offset-y"))||0,f=t.style.fontSize,d=c.textArea(t.title,n-40,f,!0,0,u,"middle"),h=d.txt,l=d.dy;H(h,X.nodeText),h.setAttribute("fill",t.style.color),h.setAttribute("data-field","name"),a.append(h),u+=l;var p=c.text("[".concat(t.sub,"]"),0,u,"middle");H(p,X.nodeText),p.setAttribute("fill",t.style.color),p.setAttribute("font-size",String(.75*t.style.fontSize)),a.append(p),u+=10,u+=10;var v=t.style.fontSize,g=c.textArea(t.description,n-40,v,!1,0,u,"middle"),y=g.txt,x=g.dy;H(y,X.nodeText),y.setAttribute("fill",t.style.color),y.setAttribute("data-field","description"),a.append(y),s(a,0,-(u+=x)/2),o.append(a),o.__data=t,t.ref=o}(e,t),n.append(e.ref)})),t.edges.forEach((function(e){q(t,e),r.append(e.ref)})),t.groupsMap.forEach((function(t){G(t),o.append(t.ref)})),R.append(e)};function q(t,e){var n=e.from,r=e.to,o=c.element("g",{},"edge");o.setAttribute("id",e.id),o.setAttribute("data-from",e.from.id),o.setAttribute("data-to",e.to.id);var i=(e.style.position||50)/100,a=e.vertices?e.vertices.concat():[],u=a;if(u.forEach((function(e){return e.auto&&t.edgeVertices.delete(e.id)})),0==(a=u.filter((function(t){return!t.auto}))).length){var s=t.edges.filter((function(t){return t.from==e.from&&t.to==e.to})),f=0;if(s.length>1){f=s.indexOf(e)-(s.length-1)/2;var d=0,p=0;Math.abs(n.x-r.x)>Math.abs(n.y-r.y)?p=70*f:d=200*f;var v=e.initVertex({x:(n.x+r.x)/2+d,y:(n.y+r.y)/2+p});v.label=!0,v.auto=!0,a.push(v)}else"Orthogonal"==e.style.routing&&a.push({x:n.x,y:r.y,auto:!0})}a.unshift(n),a.push(r),a[0]=n.intersect(a[1]),a[a.length-1]=r.intersect(a[a.length-2]);var g=a.find((function(t){return t.label}));if(!g){for(var y=function(t,e){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},x=0,m=1;m<a.length;m++)x+=y(a[m-1],a[m]);g={x:n.x,y:n.y};for(var b=0,w=1;w<a.length;w++){var E=y(a[w-1],a[w]);if(b+E>x*i){var _=(x*i-b)/E;g={x:a[w-1].x+(a[w].x-a[w-1].x)*_,y:a[w-1].y+(a[w].y-a[w-1].y)*_};break}b+=E}}var j=function(t,e){var n=e.style.fontSize,r=c.textArea(e.label,200,n,!1,t.x,t.y,"middle"),o=r.txt,i=r.dy,a=r.maxW;i-=n/2,o.setAttribute("y",String(t.y-i/2)),a+=n,o.setAttribute("stroke","none"),o.setAttribute("font-size",String(e.style.fontSize)),o.setAttribute("fill",e.style.color);var u={x:t.x-a/2,y:t.y-i/2,width:a,height:i},s=c.rect(u.width,u.height,u.x,u.y);return H(s,X.edgeRect),o.setAttribute("data-field","label"),u.x+=u.width/2,u.y+=u.height/2,{bg:s,txt:o,bbox:u}}(g,e),k=j.bg,O=j.txt,A=j.bbox;o.append(k,O);for(var S=[],N=1;N<a.length;N++)S.push({p:a[N-1],q:a[N]});!function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(h(r.p,e))h(r.q,e)?(t.splice(n,1),n-=1):r.p=l(r.p,r.q,e)[0];else if(h(r.q,e))r.q=l(r.p,r.q,e)[0];else{var o=l(r.p,r.q,e);if(2==o.length){Math.abs(o[0].x-r.p.x)+Math.abs(o[0].y-r.p.y)>Math.abs(o[1].x-r.p.x)+Math.abs(o[1].y-r.p.y)&&o.reverse();var i={p:o[1],q:r.q};r.q=o[0],t.splice(n+1,0,i),n+=1}}}}(S,A);var M=S.map((function(t){return"M".concat(t.p.x,",").concat(t.p.y," L").concat(t.q.x,",").concat(t.q.y)})).join(" "),I=c.path(M,{"marker-end":"url(#arrow)"},"edge");return I.setAttribute("fill","none"),I.setAttribute("stroke",e.style.color),I.setAttribute("stroke-width",String(e.style.thickness)),e.style.dashed&&I.setAttribute("stroke-dasharray","8"),o.append(I),e.vertices=a.slice(1,-1).map((function(t){return e.initVertex(t)})),e.vertices.forEach((function(t,e){var n=t;n.ref=c.element("circle",{id:n.id,cx:t.x,cy:t.y,r:7},"v-dot"),n.selected&&n.ref.classList.add("selected"),n.auto&&n.ref.classList.add("auto"),o.append(n.ref)})),e.ref=o,o}function G(t){if(0!=t.nodes.length){var e=c.element("g",{},"group"),n={x:1e100,y:1e100},r={x:0,y:0};t.nodes.forEach((function(t){var e={x:t.x-t.width/2,y:t.y-t.height/2,width:t.width,height:t.height};n.x=Math.min(n.x,e.x),n.y=Math.min(n.y,e.y),r.x=Math.max(r.x,e.x+e.width),r.y=Math.max(r.y,e.y+e.height)}));var o=Math.max(r.x-n.x,200),i=r.y-n.y+37.5,a={x:n.x-25,y:n.y-25,width:o+50,height:i+50},u=c.rect(a.width,a.height,a.x,a.y);t.x=a.x+a.width/2,t.y=a.y+a.height/2,t.width=a.width,t.height=a.height,H(u,X.groupRect);var s=c.text(t.name,n.x,a.y+a.height-X.groupText["font-size"]);H(s,X.groupText),e.append(u,s),t.ref=e}}function U(t,e){var n={dst:Number.POSITIVE_INFINITY,pos:-1,edge:null,prj:null};return t.edges.forEach((function(t){for(var r,o,i=t.vertices||[],a=[t.from].concat(S(i),[t.to]),u=1;u<a.length;u++){var c=g(e,a[u-1],a[u]),s=(r=e,o=c,Math.abs(o.x-r.x)+Math.abs(o.y-r.y));s>50||s<n.dst&&(n={dst:s,pos:u,prj:c,edge:t})}})),n.edge?n:null}function W(t){var e=R.getBoundingClientRect(),n=$();return{x:(t.clientX-e.x)/n,y:(t.clientY-e.y)/n}}function $(){var t=R.querySelector("g.zoom");return 0==t.transform.baseVal.numberOfItems?1:t.transform.baseVal.getItem(0).matrix.a}function Y(t){R.querySelector("g.zoom").setAttribute("transform","scale(".concat(t,")")),K()}function K(){var t=R.querySelector("g.zoom").getBBox(),e=$(),n=Math.max(R.parentElement.clientWidth/e,t.x+t.width+20),r=Math.max(R.parentElement.clientHeight/e,t.y+t.height+20);R.setAttribute("width",String(n*e)),R.setAttribute("height",String(r*e))}var J=function(t,e){"Dashed"==e?t.setAttribute("stroke-dasharray","4"):"Dotted"==e&&t.setAttribute("stroke-dasharray","2")},X={nodeBorder:{fill:"rgba(255, 255, 255, 0.86)",stroke:"#aaa","stroke-width":"3px"},nodeText:{"font-family":"Arial, sans-serif",stroke:"none"},edgeRect:{fill:"none",stroke:"none"},groupRect:{fill:"rgba(0, 0, 0, 0.02)",stroke:"#666","stroke-dasharray":4},groupText:{fill:"#666","font-size":22,cursor:"default"}},H=function(t,e){Object.keys(e).forEach((function(n){"font-size"==n?("number"!=typeof e[n]&&console.error("All font-sizes in styles have to be numbers representing px! Found:",e),t.setAttribute(n,e[n]+"px")):t.setAttribute(n,String(e[n]))}))};function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var et=function(t,e,n){var r=new Map,o=new Map,i=function(t){Array.isArray(t.relationships)&&t.relationships.forEach((function(t){o.set(t.id,t)}))};if(t.model.people.forEach((function(t){r.set(t.id,t),Array.isArray(t.relationships)&&t.relationships.forEach((function(t){o.set(t.id,t)}))})),t.model.softwareSystems.forEach((function(t){r.set(t.id,t),i(t),Array.isArray(t.containers)&&t.containers.forEach((function(e){e.parent=t,r.set(e.id,e),i(e),Array.isArray(e.components)&&e.components.forEach((function(t){t.parent=e,r.set(t.id,t),i(t)}))}))})),t.model.deploymentNodes){var a=function t(e,n){e.parent=n,r.set(e.id,e),i(e),function(t){t.containerInstances&&t.containerInstances.forEach((function(e){var n=Q(Q({},r.get(e.containerId)),{},{id:e.id});r.set(n.id,n),n.parent=t,i(e)}))}(e),e.children&&e.children.forEach((function(n){return t(n,e)})),e.infrastructureNodes&&e.infrastructureNodes.forEach((function(n){return t(n,e)}))};t.model.deploymentNodes.forEach((function(t){return a(t,null)}))}var u=function(t,e){var n=null,r="";return Object.keys(t.views).filter((function(t){return t.endsWith("Views")})).some((function(o){return t.views[o].some((function(t){if(t.key==e)return n=t,r=o,!0}))})),{view:n,section:r}}(t,n),c=u.view,s=u.section;if(!c)return null;var f=new z(c.key,c.title||c.key),d={name:f.name,description:c.description,version:t.version,elements:[]};if(f.metadata=d,!c.elements)return f;var h={};if("deploymentViews"==s)c.elements.forEach((function(t){var e=r.get(t.id);e&&e.parent&&(h[e.parent.id]=!0)}));else if(c.softwareSystemId)c.elements.find((function(t){return t.id==c.softwareSystemId}))||(h[c.softwareSystemId]=!0);else if("systemLandscapeViews"==s){var l=Q({id:"__enterprise__"},t.model.enterprise);r.set(l.id,l),t.model.people.filter((function(t){return"External"!=t.location})).forEach((function(t){return t.parent=l})),t.model.softwareSystems.filter((function(t){return"External"!=t.location})).forEach((function(t){return t.parent=l})),h[l.id]=!0}var p=t.views.styles;c.elements.forEach((function(e){if(!h[e.id]){var n=r.get(e.id),o="",i={};if(n){var a=n.tags.split(","),u=nt(a);o=a[a.length-1],n.technology&&(o+=": "+n.technology),p&&p.elements&&p.elements.forEach((function(t){u[t.tag]&&(i=Q(Q({},i),t))}))}f.addNode(e.id,n&&n.name||e.id,o,n&&n.description?n.description:"",i),n&&d.elements.push({id:n.id,tags:n.tags,location:n.location,properties:n.properties,elementViewKey:rt(t,n.id)})}})),Array.isArray(c.relationships)&&c.relationships.forEach((function(t){var e=o.get(t.id);if(e)if(f.nodesMap.has(e.sourceId))if(f.nodesMap.has(e.destinationId)){var n={},i=nt(e.tags.split(","));p&&p.relationships&&p.relationships.forEach((function(t){i[t.tag]&&(n=Q(Q({},n),t))})),t.routing&&(n.routing=t.routing),f.addEdge(e.id,e.sourceId,e.destinationId,e.description,t.vertices,n)}else if(r.has(e.destinationId)){var a=r.get(e.destinationId);console.warn("Element not found in this view: ",a.id,a.name)}else console.warn("Element not found: ",e.destinationId);else if(r.has(e.sourceId)){var u=r.get(e.sourceId);console.warn("Element not found in this view: ",u.id,u.name)}else console.warn("Element not found: ",e.sourceId)}));var v=function(t){for(var e=0,n=t.parent;n;n=n.parent)e++;return e};return Object.keys(h).map((function(t){return r.get(t)})).sort((function(t,e){return v(t)>v(e)?-1:1})).forEach((function(t){f.addGroup(t.id,t.name,c.elements.map((function(t){return r.get(t.id)})).filter((function(e){return e&&e.parent==t})).map((function(t){return t.id})))})),f.init(e[f.id]),f};function nt(t){return t.reduce((function(t,e){return t[e]=!0,t}),{})}function rt(t,e){var n=void 0;return Object.keys(t.views).filter((function(t){return t.endsWith("Views")})).some((function(r){return t.views[r].some((function(t){if(t.softwareSystemId==e)return n=t.key,!0}))})),n}document.querySelectorAll(".c4-diagram").forEach((function(t){var e,n=document.getElementById(t.getAttribute("data-model")),r=JSON.parse(n.textContent),o=et(r,{},t.getAttribute("data-view-key")),i=(e=o,(R=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("id","graph"),F(e),R);t.append(i),o.autoLayout()}))}],[[290,1]]]);